<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>CSV Exporter</title>
    <link rel="stylesheet" href="libs/css/choices.min.css">
    <style>
        body {
            height: 100%;
            width: 300px;
            font-family: 'Gotham book', sans-serif;
            color: #fff;
            text-align: center;
            background-image: linear-gradient(149deg, #02c1ff, #29abff 27%, #751ff6), linear-gradient(180deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5));
        }

        .button {
            position: static;
            display: inline-block;
            overflow: visible;
            padding: 18px 20px;
            clear: none;
            border-style: solid;
            border-width: 2px;
            border-color: hsla(0, 0%, 100%, 0.19);
            border-radius: 90px;
            background-color: #fff;
            background-image: none;
            box-shadow: 0 21px 35px 1px rgb(62 71 182 / 19%);
            font-family: 'Gotham book', sans-serif;
            color: #00325b;
            font-size: 16px;
            text-align: center;
            cursor: pointer;
        }

        .w-button {
            border: 0;
            line-height: inherit;
            text-decoration: none;
        }
        #selectContainer {
            color: #00325b;
        }
    </style>
</head>

<body>
    <div>
        <a href="https://app2.bankin.com/signin" target="_blank" rel="noopener noreferrer" class="button w-button"> Go
            to Bankin
        </a>
    </div>
    <div>
        <h1>Settings</h2>
    </div>
    <div>
        <div>
            <h2>1 . Dates</h2>
        </div>
        <div>
            <div>Start date<br>
                <input id="startDate" type="date">
            </div>
            <div>End date<br>
                <input id="endDate" type="date">
            </div>
        </div>
        <div>
            <div>
                <h2>2 . Accounts</h2>
                <div id="selectContainer">
                    <select id="accountsInput" multiple></select>
                </div>
            </div>
        </div>
        <div>
            <h2>3 . Download CSV </h2>
            <div><button class="button w-button" id="exportCsv"
                    style="width: 100%; background-color:#00ce94; color: #fff;">export</button></div>
        </div>
        <div>
            <div><button id="refresh">Refresh data & settings</button></div>
        </div>
        <div><img id="currentVersion"><a href="https://github.com/Thorfy/Bankin-/releases/latest" target="_blank"><img
                    src="https://img.shields.io/github/v/release/Thorfy/Bankin-" alt="Last release"></a></div>
    </div>
    <hr>
    <div>
        <h2>Run Unit Tests</h2>
        <button class="button w-button" id="runTestsButton" style="background-color:#ffc107; color: #000;">Run Tests</button>
    </div>
</body>

</html>
<script src="libs/js/choices.min.js"></script>
<!-- Core Utilities -->
<script src="js/Evt.js"></script>

<!-- Services -->
<script src="js/SettingsService.js"></script>
<script src="js/BankinData.js"></script> <!-- Depends on SettingsService (now passed in constructor) -->
<script src="js/DataService.js"></script> <!-- Depends on SettingsService, BankinData -->

<!-- UI Manager -->
<script src="js/UIManager.js"></script>

<!-- Chart Processing Abstraction & Factory -->
<script src="js/AbstractChartProcessor.js"></script>
<script src="js/LineBarChartProcessor.js"></script> <!-- Depends on AbstractChartProcessor, DataService, UIManager -->
<script src="js/SankeyChartProcessor.js"></script> <!-- Depends on AbstractChartProcessor, DataService, UIManager -->
<script src="js/DonutChartProcessor.js"></script> <!-- Depends on AbstractChartProcessor, DataService, UIManager -->
<script src="js/ChartFactory.js"></script> <!-- Depends on Processor classes -->

<!-- Test runner and tests -->
<script src="js/tests.js"></script> <!-- Depends on all of the above for comprehensive testing -->

<!-- Popup specific logic -->
<script src="popup.js"></script>